# 应用编辑功能修复计划

## 问题分析

用户报告编辑应用功能仍然不工作，收到 405 Method Not Allowed 错误。

### 可能的原因

1. **路由路径不匹配**：前端使用的路径与后端定义的路径不一致
2. **HTTP 方法不匹配**：前端使用的 HTTP 方法与后端不匹配
3. **服务器配置问题**：服务器可能没有正确配置路由
4. **CORS 问题**：跨域资源共享配置可能阻止了请求

## 实现计划

### [x] 任务 1：检查前端编辑应用 API 调用
- **优先级**：P0
- **依赖**：无
- **描述**：检查前端代码中编辑应用时的 API 调用，确保路径和方法正确
- **成功标准**：前端 API 调用路径和方法与后端一致
- **测试要求**：
  - `programmatic` TR-1.1：前端使用正确的 HTTP 方法
  - `programmatic` TR-1.2：前端使用正确的 API 路径

### [x] 任务 2：检查后端应用更新端点
- **优先级**：P0
- **依赖**：任务 1
- **描述**：检查后端代码中应用更新端点的定义，确保路径和方法正确
- **成功标准**：后端端点定义正确，能够处理前端的请求
- **测试要求**：
  - `programmatic` TR-2.1：后端端点使用正确的 HTTP 方法
  - `programmatic` TR-2.2：后端端点使用正确的 API 路径

### [x] 任务 3：测试应用编辑功能
- **优先级**：P1
- **依赖**：任务 1 和任务 2
- **描述**：测试应用编辑功能，确保能够正常保存
- **成功标准**：应用编辑功能能够正常保存，不再报错
- **测试要求**：
  - `programmatic` TR-3.1：编辑应用时能够成功保存
  - `programmatic` TR-3.2：编辑应用后，策略设置能够正确保存

## 测试验证流程

1. **测试应用编辑功能**：
   - 打开应用编辑表单
   - 修改策略设置
   - 保存应用
   - 验证保存成功，无错误提示
   - 重新打开编辑表单，验证策略设置保持不变

2. **测试应用新建功能**：
   - 打开应用新建表单
   - 验证表单包含策略设置选项
   - 填写应用信息并设置策略
   - 保存应用
   - 验证保存成功，无错误提示
   - 打开新建应用的编辑表单，验证策略设置正确显示